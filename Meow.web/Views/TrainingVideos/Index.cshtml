@using Meow.Shared.Dtos.Videos
@using Meow.Shared.Dtos.Tags
@model Meow.Web.ViewModels.TrainingVideos.TrainingVideoIndexVm

@{
    ViewData["Title"] = "影片清單";
    var tagName = Model.AllTags.ToDictionary(t => t.TagId, t => t.Name);
}

<form method="get" class="mb-4">
    <div class="row g-2 align-items-end">
        <div class="col-md-4">
            <label class="form-label">關鍵字</label>
            <input type="text" name="keyword" value="@Model.Keyword" class="form-control" placeholder="例如：深蹲 / plank" />
        </div>
        <div class="col-md-3">
            <label class="form-label">狀態</label>
            <select asp-for="Status" name="status" class="form-select">
                <option value="">（全部）</option>
                <option>Published</option>
                <option>Draft</option>
                <option>Archived</option>
            </select>
        </div>
        <div class="col-12 mt-2">
            <label class="form-label d-block">標籤</label>
            @foreach (var t in Model.AllTags)
            {
                var isChecked = Model.SelectedTagIds.Contains(t.TagId);
                if (isChecked)
                {
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" name="tagIds" value="@t.TagId" checked />
                        <label class="form-check-label">@t.Name</label>
                    </div>
                }
                else
                {
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" name="tagIds" value="@t.TagId" />
                        <label class="form-check-label">@t.Name</label>
                    </div>
                }
            }
        </div>
        <div class="col-12 mt-2">
            <button type="submit" class="btn btn-primary">套用篩選</button>
            <a asp-action="Index" class="btn btn-outline-secondary ms-2">清除</a>
        </div>
    </div>
</form>
