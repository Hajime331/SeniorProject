@model Meow.Web.ViewModels.TrainingSets.TrainingSetDetailVm
@{
    ViewData["Title"] = "課表內容";
}

<div class="container my-4">
    <h3 class="mb-3">課表內容</h3>

    <div class="row">
        <div class="col-md-4">
            @if (!string.IsNullOrWhiteSpace(Model.CoverUrl))
            {
                <img src="@Model.CoverUrl" class="card-img-top rounded" />
            }
            else
            {
                <div class="bg-light text-muted d-flex align-items-center justify-content-center rounded border"
                     style="height:200px">
                    無封面
                </div>
            }
        </div>

        <div class="col-md-8">
            <dl class="row">
                <dt class="col-sm-3">名稱</dt>
                <dd class="col-sm-9">@Model.Name</dd>

                <dt class="col-sm-3">部位</dt>
                <dd class="col-sm-9">@Model.BodyPart</dd>

                <dt class="col-sm-3">器材</dt>
                <dd class="col-sm-9">@Model.Equipment</dd>

                <dt class="col-sm-3">難度</dt>
                <dd class="col-sm-9">@Model.Difficulty</dd>

                <dt class="col-sm-3">時間</dt>
                <dd class="col-sm-9">
                    @(Model.EstimatedDurationSec.HasValue
                                        ? Math.Round(Model.EstimatedDurationSec.Value / 60.0) + " 分"
                                        : "—")
                </dd>

                <dt class="col-sm-3">狀態</dt>
                <dd class="col-sm-9">@Model.Status</dd>
            </dl>
        </div>
    </div>

    <hr />

    <h5>課表項目</h5>
    @if (Model.Items.Any())
    {
        <table class="table table-sm">
            <thead>
                <tr>
                    <th>順序</th>
                    <th>訓練項目</th>
                    <th>次數</th>
                    <th>休息秒</th>
                    <th>回合</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var i in Model.Items)
                {
                    <tr>
                        <td>@i.OrderNo</td>
                        <td>@i.VideoTitle</td>
                        <td>@i.TargetReps</td>
                        <td>@i.RestSec</td>
                        <td>@i.Rounds</td>
                    </tr>
                }
            </tbody>
        </table>
    }
    else
    {
        <p class="text-muted">尚無項目</p>
    }

    <div class="mt-3">
        <a asp-action="Index" class="btn btn-secondary">回列表</a>
        <a asp-action="Edit" asp-route-id="@Model.SetId" class="btn btn-primary">編輯</a>
    </div>
</div>
